<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/study-log/_next/static/css/9d27e0a9473055b7.css" data-precedence="next"/><link rel="preload" href="/study-log/_next/static/chunks/webpack-06542132c6c9e894.js" as="script" fetchPriority="low"/><script src="/study-log/_next/static/chunks/fd9d1056-c4b752c762ad4496.js" async=""></script><script src="/study-log/_next/static/chunks/596-882bdf0b7b04394b.js" async=""></script><script src="/study-log/_next/static/chunks/main-app-a77bcd5c8890c296.js" async=""></script><title>Observable 에 관한 메모</title><meta name="description" content="..."/><script src="/study-log/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body><script>(function() {
    function setInitialColorMode() {
    /**
   * 만약 localStorage 가 유효하지 않다면 => media 설정으로 처리
   * 만약 localStorage 가 유효하다면 => local Storage 로 처리
   */ if (localStorage.getItem("theme") == null && window.matchMedia("(prefers-color-scheme: dark)").matches || localStorage.getItem("theme") == "dark") {
        document.documentElement.setAttribute("data-theme", "dark");
    }
}
    setInitialColorMode();
  })()
</script><link rel="stylesheet" href="//fonts.googleapis.com/css2?family=Noto+Sans&amp;family=Noto+Sans+KR&amp;display=swap"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous"/><div id="wrap" class="tw-min-h-screen tw-relative tw-bg-color-page-background"><nav><div class="masthead_masthead__zVIwm"><button class="masthead_menu-btn__tZ2_W " title="toggle menu" id="menu-toggle-btn"><div class="masthead_menu-lines__iNcj5"><div class="masthead_line__AM5zP masthead_line1__NaE01"></div><div class="masthead_line__AM5zP masthead_line2__ai3cP"></div><div class="masthead_line__AM5zP masthead_line3__g18ZL"></div></div></button><a class="tw-align-middle tw-self-center tw-mr-auto tw-font-sans tw-font-bold hover:tw-text-color-text tw-text-color-primary" href="/study-log/" target="_self">LOG | STUDY</a><div class="tw-ml-auto"></div><button class="tw-flex tw-self-center tw-text-2xl" title="search button" id="search-open-btn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></button><div class="darkmode-toggle_toggleBtn__G_r9Z tw-flex tw-self-center tw-text-1xl "><input id="darkmode-btn" type="checkbox" name="darkmode-btn"/><label for="darkmode-btn">Toggle</label></div><div class="tw-mr-1"></div></div></nav><aside></aside><aside></aside><div class="tw-mt-nav-height tw-pb-20"><main><p>-</p><h1 class="text-3xl font-bold">Observable 에 관한 메모</h1><h2>Hot Stream / Cold Stream</h2>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-theme="default" data-language="c#"><div class="tw-text-left tw-ml-4">hot stream</div><button class="tw-flex tw-content-center tw-ml-auto tw-mr-4"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="tw-self-center tw-text-lg tw-mr-2 " height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"></path><path d="M16 4h2a2 2 0 0 1 2 2v4"></path><path d="M21 14H11"></path><path d="m15 10-4 4 4 4"></path></svg>Copy Code</button></div><pre style="background-color:#22272e" tabindex="0" data-language="c#" data-theme="default"><code data-language="c#" data-theme="default"><span data-line=""> </span>
<span data-line=""><span style="color:#F47067">using</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">System</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Collections</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Concurrent</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""><span style="color:#F47067">using</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">System</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Reactive</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Concurrency</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""><span style="color:#F47067">using</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">System</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Reactive</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Disposables</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""><span style="color:#F47067">using</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">System</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Reactive</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Linq</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""><span style="color:#F47067">using</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">System</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Reactive</span><span style="color:#ADBAC7">.</span><span style="color:#F69D50">Subjects</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F47067">namespace</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">Test</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">class</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">HotStream</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">&gt; : </span><span style="color:#F69D50">IDisposable</span></span>
<span data-line=""><span style="color:#ADBAC7">{</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">ConcurrentQueue</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">&gt; </span><span style="color:#F69D50">Queue</span><span style="color:#ADBAC7"> { </span><span style="color:#F47067">get</span><span style="color:#ADBAC7">; } </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">new</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">ConcurrentQueue</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">&gt;();</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">IObservable</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">&gt; </span><span style="color:#F69D50">Stream</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> mStream;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">private</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">readonly</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">AutoResetEvent</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">mDequeueEvent</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">new</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">AutoResetEvent</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">);</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">private</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">readonly</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">CancellationTokenSource</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">mCancelToken</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">new</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">CancellationTokenSource</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">private</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">readonly</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">IConnectableObservable</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">&gt; </span><span style="color:#F69D50">mStream</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">HotStream</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">IScheduler</span><span style="color:#ADBAC7">? </span><span style="color:#F69D50">scheduler</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">null</span><span style="color:#ADBAC7">)</span></span>
<span data-line=""><span style="color:#ADBAC7">    {</span></span>
<span data-line=""><span style="color:#ADBAC7">        </span><span style="color:#F47067">var</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">baseStream</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> Observable.</span><span style="color:#DCBDFB">Create</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">&gt;(</span><span style="color:#F69D50">o</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=&gt;</span></span>
<span data-line=""><span style="color:#ADBAC7">        {</span></span>
<span data-line=""><span style="color:#ADBAC7">            </span><span style="color:#F47067">while</span><span style="color:#ADBAC7"> (mCancelToken.IsCancellationRequested </span><span style="color:#F47067">==</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">)</span></span>
<span data-line=""><span style="color:#ADBAC7">            {</span></span>
<span data-line=""><span style="color:#ADBAC7">                mDequeueEvent.</span><span style="color:#DCBDFB">WaitOne</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">                </span><span style="color:#F47067">while</span><span style="color:#ADBAC7"> (Queue.</span><span style="color:#DCBDFB">TryDequeue</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">out</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">? </span><span style="color:#F69D50">result</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">&amp;&amp;</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">!</span><span style="color:#ADBAC7">mCancelToken.IsCancellationRequested)</span></span>
<span data-line=""><span style="color:#ADBAC7">                {</span></span>
<span data-line=""><span style="color:#ADBAC7">                    o.</span><span style="color:#DCBDFB">OnNext</span><span style="color:#ADBAC7">(result);</span></span>
<span data-line=""><span style="color:#ADBAC7">                }</span></span>
<span data-line=""><span style="color:#ADBAC7">            }</span></span>
<span data-line=""><span style="color:#ADBAC7">            o.</span><span style="color:#DCBDFB">OnCompleted</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">            </span><span style="color:#F47067">return</span><span style="color:#ADBAC7"> Disposable.Empty;</span></span>
<span data-line=""><span style="color:#ADBAC7">        });</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ADBAC7">        </span><span style="color:#F47067">if</span><span style="color:#ADBAC7"> (scheduler </span><span style="color:#F47067">==</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">null</span><span style="color:#ADBAC7">) scheduler </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">new</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">EventLoopScheduler</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">        mStream </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> baseStream.</span><span style="color:#DCBDFB">SubscribeOn</span><span style="color:#ADBAC7">(scheduler).</span><span style="color:#DCBDFB">Publish</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">        mStream.</span><span style="color:#DCBDFB">Connect</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">    }</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">void</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">OnNext</span><span style="color:#ADBAC7">()</span></span>
<span data-line=""><span style="color:#ADBAC7">    {</span></span>
<span data-line=""><span style="color:#ADBAC7">        mDequeueEvent.</span><span style="color:#DCBDFB">Set</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">bool</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">bDisposed</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">void</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">Dispose</span><span style="color:#ADBAC7">()</span></span>
<span data-line=""><span style="color:#ADBAC7">    {</span></span>
<span data-line=""><span style="color:#ADBAC7">        </span><span style="color:#F47067">if</span><span style="color:#ADBAC7"> (bDisposed </span><span style="color:#F47067">==</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">)</span></span>
<span data-line=""><span style="color:#ADBAC7">        {</span></span>
<span data-line=""><span style="color:#ADBAC7">            bDisposed </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">true</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""><span style="color:#ADBAC7">            mCancelToken.</span><span style="color:#DCBDFB">Cancel</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">            mDequeueEvent.</span><span style="color:#DCBDFB">Set</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">            Queue.</span><span style="color:#DCBDFB">Clear</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">        }</span></span>
<span data-line=""><span style="color:#ADBAC7">    }</span></span>
<span data-line=""><span style="color:#ADBAC7">}</span></span></code></pre></div>
<p>위는 <code>Publish()</code>, <code>Connect()</code> 를 이용해 구현한 간단한 Hot Stream 이다. <code>Publish()</code> 는 내부적으로 <code>Subject&lt;T&gt;</code> 를 사용했고 사실 <code>Subject&lt;T&gt;</code> 가 Hot Stream 이기도 하다. 그래서 <code>Subject&lt;T&gt;</code> 만 써도 된다. 하지만 <code>Publish()</code> 특징을 보이기 위해서 위 코드를 들고왔다.</p>
<p>Hot Stream 은 구독 전에 호출한 <code>OnNext()</code> 를 무시하며 바로바로 보내는 것이 특징이다.</p>
<p>그래서 다음과 같은 결과를 보인다.</p>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-theme="default" data-language="c#"><div class="tw-text-left tw-ml-4">input</div><button class="tw-flex tw-content-center tw-ml-auto tw-mr-4"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="tw-self-center tw-text-lg tw-mr-2 " height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"></path><path d="M16 4h2a2 2 0 0 1 2 2v4"></path><path d="M21 14H11"></path><path d="m15 10-4 4 4 4"></path></svg>Copy Code</button></div><pre style="background-color:#22272e" tabindex="0" data-language="c#" data-theme="default"><code data-language="c#" data-theme="default"><span data-line=""><span style="color:#F47067">var</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">stream</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">new</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">HotStream</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F47067">string</span><span style="color:#ADBAC7">&gt;();</span></span>
<span data-line=""><span style="color:#ADBAC7">stream.Queue.</span><span style="color:#DCBDFB">Enqueue</span><span style="color:#ADBAC7">(</span><span style="color:#96D0FF">&quot;1&quot;</span><span style="color:#ADBAC7">);</span></span>
<span data-line=""><span style="color:#ADBAC7">stream.</span><span style="color:#DCBDFB">OnNext</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">Thread.</span><span style="color:#DCBDFB">Sleep</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">1000</span><span style="color:#ADBAC7">); </span><span style="color:#768390">// thread 변환까지의 딜레이를 고려</span></span>
<span data-line=""><span style="color:#ADBAC7">stream.Stream.</span><span style="color:#DCBDFB">Subscribe</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">s</span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7">Console.</span><span style="color:#DCBDFB">WriteLine</span><span style="color:#ADBAC7">(</span><span style="color:#96D0FF">$&quot;1 =&gt; {</span><span style="color:#ADBAC7">s</span><span style="color:#96D0FF">}&quot;</span><span style="color:#ADBAC7">));</span></span>
<span data-line=""><span style="color:#ADBAC7">stream.Stream.</span><span style="color:#DCBDFB">Subscribe</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">s</span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7">Console.</span><span style="color:#DCBDFB">WriteLine</span><span style="color:#ADBAC7">(</span><span style="color:#96D0FF">$&quot;2 =&gt; {</span><span style="color:#ADBAC7">s</span><span style="color:#96D0FF">}&quot;</span><span style="color:#ADBAC7">));</span></span>
<span data-line=""><span style="color:#F47067">for</span><span style="color:#ADBAC7"> (</span><span style="color:#F47067">int</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">i</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">2</span><span style="color:#ADBAC7">; i </span><span style="color:#F47067">&lt;</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">5</span><span style="color:#ADBAC7">; i</span><span style="color:#F47067">++</span><span style="color:#ADBAC7">)</span></span>
<span data-line=""><span style="color:#ADBAC7">    stream.Queue.</span><span style="color:#DCBDFB">Enqueue</span><span style="color:#ADBAC7">(i.</span><span style="color:#DCBDFB">ToString</span><span style="color:#ADBAC7">());</span></span>
<span data-line=""><span style="color:#ADBAC7">stream.</span><span style="color:#DCBDFB">OnNext</span><span style="color:#ADBAC7">();</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-theme="default" data-language="plaintext"><div class="tw-text-left tw-ml-4">output</div><button class="tw-flex tw-content-center tw-ml-auto tw-mr-4"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="tw-self-center tw-text-lg tw-mr-2 " height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"></path><path d="M16 4h2a2 2 0 0 1 2 2v4"></path><path d="M21 14H11"></path><path d="m15 10-4 4 4 4"></path></svg>Copy Code</button></div><pre style="background-color:#22272e" tabindex="0" data-language="plaintext" data-theme="default"><code data-language="plaintext" data-theme="default"><span data-line=""><span style="color:#adbac7">1 =&gt; 2</span></span>
<span data-line=""><span style="color:#adbac7">2 =&gt; 2</span></span>
<span data-line=""><span style="color:#adbac7">1 =&gt; 3</span></span>
<span data-line=""><span style="color:#adbac7">2 =&gt; 3</span></span>
<span data-line=""><span style="color:#adbac7">1 =&gt; 4</span></span>
<span data-line=""><span style="color:#adbac7">2 =&gt; 4</span></span></code></pre></div>
<p>만약 <code>Publish()</code> 를 사용하지 않았다면 어떨까?</p>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-theme="default" data-language="plaintext"><div class="tw-text-left tw-ml-4">output</div><button class="tw-flex tw-content-center tw-ml-auto tw-mr-4"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="tw-self-center tw-text-lg tw-mr-2 " height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"></path><path d="M16 4h2a2 2 0 0 1 2 2v4"></path><path d="M21 14H11"></path><path d="m15 10-4 4 4 4"></path></svg>Copy Code</button></div><pre style="background-color:#22272e" tabindex="0" data-language="plaintext" data-theme="default"><code data-language="plaintext" data-theme="default"><span data-line=""><span style="color:#adbac7">1 =&gt; 1</span></span>
<span data-line=""><span style="color:#adbac7">1 =&gt; 2</span></span>
<span data-line=""><span style="color:#adbac7">1 =&gt; 3</span></span>
<span data-line=""><span style="color:#adbac7">1 =&gt; 4</span></span></code></pre></div>
<p>위는 Cold Stream 의 두가지 특징을 가지고 있다.</p>
<ol>
<li><code>Subscribe()</code> 하기 전의 값이 살아있다. 이는 <code>Subscribe()</code> 시점에 Observable Sequence 가 값을 넣기 시작하기 때문이다.</li>
<li>1번 구독자만 살아있다가 끝난다. 왜냐하면 위 구현에서는 <code>Observable</code> 내부의 루프가 끝나지 않아서 다음 <code>Observer</code> 에게 순서가 가지 않기 때문이다. 만약 가더라도 queue 내부는 비워서 아무일도 안할 것이다.</li>
</ol>
<p>이러한 특징 때문에 요구사항에 맞는 stream 을 쓰는게 중요하다. ui 등 가장 최신 값이 필요하면 Hot Stream 을 사용한다던지 말이다.</p>
<h3>Hot Stream 다른 구현 버전</h3>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-theme="default" data-language="c#"><div class="tw-text-left tw-ml-4">hot stream</div><button class="tw-flex tw-content-center tw-ml-auto tw-mr-4"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="tw-self-center tw-text-lg tw-mr-2 " height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"></path><path d="M16 4h2a2 2 0 0 1 2 2v4"></path><path d="M21 14H11"></path><path d="m15 10-4 4 4 4"></path></svg>Copy Code</button></div><pre style="background-color:#22272e" tabindex="0" data-language="c#" data-theme="default"><code data-language="c#" data-theme="default"><span data-line=""><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">class</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">HotStream</span><span style="color:#ADBAC7"> : </span><span style="color:#F69D50">IDisposable</span></span>
<span data-line=""><span style="color:#ADBAC7">{</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">IObservable</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">?&gt; </span><span style="color:#DCBDFB">Stream</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">&gt;() </span><span style="color:#F47067">where</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">T</span><span style="color:#ADBAC7"> : </span><span style="color:#F47067">class</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> mSource.</span><span style="color:#DCBDFB">Where</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">v</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=&gt;</span><span style="color:#ADBAC7"> v </span><span style="color:#F47067">is</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">)</span><span style="color:#F47067">!</span><span style="color:#ADBAC7">.</span><span style="color:#DCBDFB">Cast</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F69D50">T</span><span style="color:#ADBAC7">?&gt;();</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">private</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">readonly</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">IDisposable</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">mSourceToken</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">private</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">readonly</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">IConnectableObservable</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F47067">object</span><span style="color:#ADBAC7">?&gt; </span><span style="color:#F69D50">mSource</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">private</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">readonly</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">CancellationTokenSource</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">mCancelToken</span><span style="color:#ADBAC7">;</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">private</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">readonly</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">BlockingCollection</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F47067">object</span><span style="color:#ADBAC7">?&gt; </span><span style="color:#F69D50">mQueue</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">new</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">MixStream</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">IScheduler</span><span style="color:#ADBAC7">? </span><span style="color:#F69D50">scheduler</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">null</span><span style="color:#ADBAC7">)</span></span>
<span data-line=""><span style="color:#ADBAC7">    {</span></span>
<span data-line=""><span style="color:#ADBAC7">        scheduler </span><span style="color:#F47067">??=</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">new</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">EventLoopScheduler</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">        </span><span style="color:#6CB6FF">this</span><span style="color:#ADBAC7">.mCancelToken </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">new</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">CancellationTokenSource</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ADBAC7">        </span><span style="color:#F47067">var</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">baseStream</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> Observable.</span><span style="color:#DCBDFB">Create</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F47067">object</span><span style="color:#ADBAC7">&gt;(</span><span style="color:#F69D50">observer</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=&gt;</span></span>
<span data-line=""><span style="color:#ADBAC7">        {</span></span>
<span data-line=""><span style="color:#ADBAC7">            </span><span style="color:#F47067">while</span><span style="color:#ADBAC7"> (</span><span style="color:#6CB6FF">this</span><span style="color:#ADBAC7">.mCancelToken.IsCancellationRequested </span><span style="color:#F47067">==</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">false</span><span style="color:#ADBAC7">)</span></span>
<span data-line=""><span style="color:#ADBAC7">            {</span></span>
<span data-line=""><span style="color:#ADBAC7">                </span><span style="color:#F47067">while</span><span style="color:#ADBAC7"> (</span><span style="color:#6CB6FF">this</span><span style="color:#ADBAC7">.mQueue.</span><span style="color:#DCBDFB">TryTake</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">out</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">object</span><span style="color:#ADBAC7">? </span><span style="color:#F69D50">result</span><span style="color:#ADBAC7">) </span><span style="color:#F47067">&amp;&amp;</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">!</span><span style="color:#6CB6FF">this</span><span style="color:#ADBAC7">.mCancelToken.IsCancellationRequested)</span></span>
<span data-line=""><span style="color:#ADBAC7">                {</span></span>
<span data-line=""><span style="color:#ADBAC7">                    observer.</span><span style="color:#DCBDFB">OnNext</span><span style="color:#ADBAC7">(result);</span></span>
<span data-line=""><span style="color:#ADBAC7">                }</span></span>
<span data-line=""><span style="color:#ADBAC7">            }</span></span>
<span data-line=""><span style="color:#ADBAC7">            observer.</span><span style="color:#DCBDFB">OnCompleted</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">            </span><span style="color:#F47067">return</span><span style="color:#ADBAC7"> Disposable.</span><span style="color:#DCBDFB">Create</span><span style="color:#ADBAC7">(() </span><span style="color:#F47067">=&gt;</span></span>
<span data-line=""><span style="color:#ADBAC7">            {</span></span>
<span data-line=""><span style="color:#ADBAC7">                Console.</span><span style="color:#DCBDFB">WriteLine</span><span style="color:#ADBAC7">(</span><span style="color:#96D0FF">&quot;Stream End&quot;</span><span style="color:#ADBAC7">);</span></span>
<span data-line=""><span style="color:#ADBAC7">            });</span></span>
<span data-line=""><span style="color:#ADBAC7">        });</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ADBAC7">        mSource </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> baseStream.</span><span style="color:#DCBDFB">SubscribeOn</span><span style="color:#ADBAC7">(scheduler).</span><span style="color:#DCBDFB">Publish</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">        mSourceToken </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> </span><span style="color:#6CB6FF">this</span><span style="color:#ADBAC7">.mSource.</span><span style="color:#DCBDFB">Connect</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">    }</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">void</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">OnNext</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">object</span><span style="color:#ADBAC7">? </span><span style="color:#F69D50">message</span><span style="color:#ADBAC7">)</span></span>
<span data-line=""><span style="color:#ADBAC7">    {</span></span>
<span data-line=""><span style="color:#ADBAC7">        </span><span style="color:#6CB6FF">this</span><span style="color:#ADBAC7">.mQueue.</span><span style="color:#DCBDFB">TryAdd</span><span style="color:#ADBAC7">(message);</span></span>
<span data-line=""><span style="color:#ADBAC7">    }</span></span>
<span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F47067">public</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">void</span><span style="color:#ADBAC7"> </span><span style="color:#DCBDFB">Dispose</span><span style="color:#ADBAC7">()</span></span>
<span data-line=""><span style="color:#ADBAC7">    {</span></span>
<span data-line=""><span style="color:#ADBAC7">        mSourceToken.</span><span style="color:#DCBDFB">Dispose</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">        mCancelToken.</span><span style="color:#DCBDFB">Dispose</span><span style="color:#ADBAC7">();</span></span>
<span data-line=""><span style="color:#ADBAC7">    }    </span></span>
<span data-line=""><span style="color:#ADBAC7">}</span></span></code></pre></div>
<p><code>BlockingCollection&lt;&gt;</code> 을 사용한 버전이다.</p>
<h2>SubscribeOn vs ObserveOn</h2>
<div data-rehype-pretty-code-fragment=""><div data-rehype-pretty-code-title="" data-theme="default" data-language="c#"><div class="tw-text-left tw-ml-4">c#</div><button class="tw-flex tw-content-center tw-ml-auto tw-mr-4"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="tw-self-center tw-text-lg tw-mr-2 " height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"></path><path d="M16 4h2a2 2 0 0 1 2 2v4"></path><path d="M21 14H11"></path><path d="m15 10-4 4 4 4"></path></svg>Copy Code</button></div><pre style="background-color:#22272e" tabindex="0" data-language="c#" data-theme="default"><code data-language="c#" data-theme="default"><span data-line=""><span style="color:#ADBAC7">    </span><span style="color:#F69D50">IObservable</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F47067">int</span><span style="color:#ADBAC7">&gt; </span><span style="color:#F69D50">observable</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=</span><span style="color:#ADBAC7"> Observable.</span><span style="color:#DCBDFB">Create</span><span style="color:#ADBAC7">&lt;</span><span style="color:#F47067">int</span><span style="color:#ADBAC7">&gt;(</span><span style="color:#F69D50">r</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=&gt;</span></span>
<span data-line=""><span style="color:#ADBAC7">        {</span></span>
<span data-line=""><span style="color:#768390">            // SubscribeOn() 에서 스케듈러가 적용되는 부분</span></span>
<span data-line=""><span style="color:#ADBAC7">            r.</span><span style="color:#DCBDFB">OnNext</span><span style="color:#ADBAC7">(</span><span style="color:#6CB6FF">1</span><span style="color:#ADBAC7">);</span></span>
<span data-line=""><span style="color:#ADBAC7">            </span><span style="color:#F47067">return</span><span style="color:#ADBAC7"> Disposable.Empty;</span></span>
<span data-line=""><span style="color:#ADBAC7">        })</span></span>
<span data-line=""><span style="color:#ADBAC7">        .</span><span style="color:#DCBDFB">ObserveOn</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">new</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">EventLoopScheduler</span><span style="color:#ADBAC7">())</span></span>
<span data-line=""><span style="color:#ADBAC7">        .</span><span style="color:#DCBDFB">SubscribeOn</span><span style="color:#ADBAC7">(</span><span style="color:#F47067">new</span><span style="color:#ADBAC7"> </span><span style="color:#F69D50">EventLoopScheduler</span><span style="color:#ADBAC7">());</span></span>
<span data-line=""><span style="color:#ADBAC7">    observable.</span><span style="color:#DCBDFB">Subscribe</span><span style="color:#ADBAC7">(</span><span style="color:#F69D50">_</span><span style="color:#ADBAC7"> </span><span style="color:#F47067">=&gt;</span></span>
<span data-line=""><span style="color:#ADBAC7">    {</span></span>
<span data-line=""><span style="color:#768390">        // ObserveOn() 에서 스케듈러가 적용되는 부분</span></span>
<span data-line=""><span style="color:#ADBAC7">    });</span></span></code></pre></div>
<p><code>ObserveOn()</code> 은 Subscriber 가 등록한 Callback 이 호출될 Scheduler 를 정한다. 기본은 <code>OnNext()</code> 가 호출되는 CallStack 에서 Callback 이 호출됨을 염두에 두자.</p>
<p><code>SubscribeOn()</code> 은 Cold Stream 에 <code>Subscribe()</code> 를 할 때 Sequence 가 만들어지는 스케듈러를 바꾼다. 그래서 만약 <code>Publish()</code>/<code>Connect()</code> 를 쓰면 적용되지 않는다.</p>
<h2>참고자료</h2>
<p><a href="/study-loghttps://learn.microsoft.com/en-us/previous-versions/dotnet/reactive-extensions/hh211887(v=vs.103)" target="_self">msdn IConnectableObservable&lt;T&gt; Interface</a></p></main></div><footer class="tw-w-full tw-absolute tw-bottom-0"><div class="tw-backdrop-brightness-95"><div class="tw-flex tw-p-4 tw-mr-4 tw-ml-4 tw-text-xs    dark:tw-border-t-color-border dark:tw-border-t-2"><div class="tw-flex-col"><div class="tw-mb-3"><a class="tw-flex tw-self-center" href="/study-loghttps://github.com/Mona04" target="_self"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="tw-text-sm tw-self-center" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg><div class="tw-ml-1 tw-font-bold">GITHUB</div></a></div><div class=" ">© 2023 Mona04. Powered by <a href="/study-loghttps://nextjs.org/" rel="noopener noreferrer" target="_blank">NextJS</a> &amp; <a href="/study-loghttps://contentlayer.dev/" rel="noopener noreferrer" target="_blank">ContentLayer</a>.</div></div><div class="tw-flex tw-self-end tw-ml-auto phone:tw-absolute phone:tw-collapse"><div>Last Build:</div><div class="tw-ml-1">13:58</div><div class="tw-ml-1">2023/10/5</div></div></div></div></footer></div><script src="/study-log/_next/static/chunks/webpack-06542132c6c9e894.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/study-log/_next/static/css/9d27e0a9473055b7.css\",{\"as\":\"style\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-06542132c6c9e894.js\",\"971:static/chunks/fd9d1056-c4b752c762ad4496.js\",\"596:static/chunks/596-882bdf0b7b04394b.js\"],\"name\":\"default\",\"async\":false}\n5:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-06542132c6c9e894.js\",\"971:static/chunks/fd9d1056-c4b752c762ad4496.js\",\"596:static/chunks/596-882bdf0b7b04394b.js\"],\"name\":\"\",\"async\":false}\n6:I{\"id\":5392,\"chunks\":[\"712:static/chunks/3627521c-112b2d829562802c.js\",\"644:static/chunks/644-bf42632fff104643.js\",\"185:s"])</script><script>self.__next_f.push([1,"tatic/chunks/app/layout-1b06c64840547b51.js\"],\"name\":\"ContextProvider\",\"async\":false}\n7:I{\"id\":5656,\"chunks\":[\"712:static/chunks/3627521c-112b2d829562802c.js\",\"644:static/chunks/644-bf42632fff104643.js\",\"185:static/chunks/app/layout-1b06c64840547b51.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":57,\"chunks\":[\"712:static/chunks/3627521c-112b2d829562802c.js\",\"644:static/chunks/644-bf42632fff104643.js\",\"185:static/chunks/app/layout-1b06c64840547b51.js\"],\"name\":\"\",\"async\":false}\n9:I{\"id\":5003,\"chunks\":[\"712:static/chun"])</script><script>self.__next_f.push([1,"ks/3627521c-112b2d829562802c.js\",\"644:static/chunks/644-bf42632fff104643.js\",\"185:static/chunks/app/layout-1b06c64840547b51.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":3677,\"chunks\":[\"712:static/chunks/3627521c-112b2d829562802c.js\",\"644:static/chunks/644-bf42632fff104643.js\",\"185:static/chunks/app/layout-1b06c64840547b51.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":7674,\"chunks\":[\"712:static/chunks/3627521c-112b2d829562802c.js\",\"644:static/chunks/644-bf42632fff104643.js\",\"185:static/chunks/app/layout-1b06c64840547b51."])</script><script>self.__next_f.push([1,"js\"],\"name\":\"\",\"async\":false}\nc:I{\"id\":4277,\"chunks\":[\"712:static/chunks/3627521c-112b2d829562802c.js\",\"644:static/chunks/644-bf42632fff104643.js\",\"185:static/chunks/app/layout-1b06c64840547b51.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":7767,\"chunks\":[\"272:static/chunks/webpack-06542132c6c9e894.js\",\"971:static/chunks/fd9d1056-c4b752c762ad4496.js\",\"596:static/chunks/596-882bdf0b7b04394b.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-06542132c6c9e894.js\",\"971:static/chunks"])</script><script>self.__next_f.push([1,"/fd9d1056-c4b752c762ad4496.js\",\"596:static/chunks/596-882bdf0b7b04394b.js\"],\"name\":\"default\",\"async\":false}\n10:I{\"id\":7692,\"chunks\":[\"33:static/chunks/737dfa3e-bac92ea425f642cf.js\",\"644:static/chunks/644-bf42632fff104643.js\",\"631:static/chunks/app/blog/[...categories]/page-9175e701b8e6b7f1.js\"],\"name\":\"TitleBar\",\"async\":false}\n11:T612,"])</script><script>self.__next_f.push([1,"\nusing System.Collections.Concurrent;\nusing System.Reactive.Concurrency;\nusing System.Reactive.Disposables;\nusing System.Reactive.Linq;\nusing System.Reactive.Subjects;\n\nnamespace Test;\n\npublic class HotStream\u003cT\u003e : IDisposable\n{\n    public ConcurrentQueue\u003cT\u003e Queue { get; } = new ConcurrentQueue\u003cT\u003e();\n    public IObservable\u003cT\u003e Stream =\u003e mStream;\n\n    private readonly AutoResetEvent mDequeueEvent = new AutoResetEvent(false);\n    private readonly CancellationTokenSource mCancelToken = new CancellationTokenSource();\n    private readonly IConnectableObservable\u003cT\u003e mStream;\n\n    public HotStream(IScheduler? scheduler = null)\n    {\n        var baseStream = Observable.Create\u003cT\u003e(o =\u003e\n        {\n            while (mCancelToken.IsCancellationRequested == false)\n            {\n                mDequeueEvent.WaitOne();\n                while (Queue.TryDequeue(out T? result) \u0026\u0026 !mCancelToken.IsCancellationRequested)\n                {\n                    o.OnNext(result);\n                }\n            }\n            o.OnCompleted();\n            return Disposable.Empty;\n        });\n\n        if (scheduler == null) scheduler = new EventLoopScheduler();\n        mStream = baseStream.SubscribeOn(scheduler).Publish();\n        mStream.Connect();\n    }\n    public void OnNext()\n    {\n        mDequeueEvent.Set();\n    }\n\n    bool bDisposed = false;\n    public void Dispose()\n    {\n        if (bDisposed == false)\n        {\n            bDisposed = true;\n            mCancelToken.Cancel();\n            mDequeueEvent.Set();\n            Queue.Clear();\n        }\n    }\n}\n"])</script><script>self.__next_f.push([1,"12:T56c,"])</script><script>self.__next_f.push([1,"public class HotStream : IDisposable\n{\n    public IObservable\u003cT?\u003e Stream\u003cT\u003e() where T : class =\u003e mSource.Where(v =\u003e v is T)!.Cast\u003cT?\u003e();\n\n    private readonly IDisposable mSourceToken;\n    private readonly IConnectableObservable\u003cobject?\u003e mSource;\n    private readonly CancellationTokenSource mCancelToken;\n    private readonly BlockingCollection\u003cobject?\u003e mQueue = new();\n    \n    public MixStream(IScheduler? scheduler = null)\n    {\n        scheduler ??= new EventLoopScheduler();\n        this.mCancelToken = new CancellationTokenSource();\n\n        var baseStream = Observable.Create\u003cobject\u003e(observer =\u003e\n        {\n            while (this.mCancelToken.IsCancellationRequested == false)\n            {\n                while (this.mQueue.TryTake(out object? result) \u0026\u0026 !this.mCancelToken.IsCancellationRequested)\n                {\n                    observer.OnNext(result);\n                }\n            }\n            observer.OnCompleted();\n            return Disposable.Create(() =\u003e\n            {\n                Console.WriteLine(\"Stream End\");\n            });\n        });\n\n        mSource = baseStream.SubscribeOn(scheduler).Publish();\n        mSourceToken = this.mSource.Connect();\n    }\n    public void OnNext(object? message)\n    {\n        this.mQueue.TryAdd(message);\n    }\n    public void Dispose()\n    {\n        mSourceToken.Dispose();\n        mCancelToken.Dispose();\n    }    \n}\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/study-log/_next/static/css/9d27e0a9473055b7.css\",\"precedence\":\"next\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"tx1RSzKnHL8vZnPkX4CUK\",\"assetPrefix\":\"/study-log\",\"initialCanonicalUrl\":\"/blog/study/observable\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"categories\",\"study/observable\",\"c\"],{\"children\":[\"__PAGE__?{\\\"categories\\\":[\\\"study\\\",\\\"observable\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L4\"],\"globalErrorComponent\":\"$5\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"(function() {\\n    function setInitialColorMode() {\\n    /**\\r\\n   * 만약 localStorage 가 유효하지 않다면 =\u003e media 설정으로 처리\\r\\n   * 만약 localStorage 가 유효하다면 =\u003e local Storage 로 처리\\r\\n   */ if (localStorage.getItem(\\\"theme\\\") == null \u0026\u0026 window.matchMedia(\\\"(prefers-color-scheme: dark)\\\").matches || localStorage.getItem(\\\"theme\\\") == \\\"dark\\\") {\\n        document.documentElement.setAttribute(\\\"data-theme\\\", \\\"dark\\\");\\n    }\\n}\\n    setInitialColorMode();\\n  })()\\n\"}}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"//fonts.googleapis.com/css2?family=Noto+Sans\u0026family=Noto+Sans+KR\u0026display=swap\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css\",\"integrity\":\"sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC\",\"crossOrigin\":\"anonymous\"}],[\"$\",\"div\",null,{\"id\":\"wrap\",\"className\":\"tw-min-h-screen tw-relative tw-bg-color-page-background\",\"children\":[\"$\",\"$L6\",null,{\"children\":[[\"$\",\"nav\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"masthead_masthead__zVIwm\",\"children\":[[\"$\",\"$L7\",null,{}],[\"$\",\"a\",null,{\"className\":\"tw-align-middle tw-self-center tw-mr-auto tw-font-sans tw-font-bold hover:tw-text-color-text tw-text-color-primary\",\"href\":\"/study-log/\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":\"LOG | STUDY\"}],[\"$\",\"div\",null,{\"className\":\"tw-ml-auto\"}],[\"$\",\"$L8\",null,{\"className\":\"tw-flex tw-self-center tw-text-2xl\"}],[\"$\",\"$L9\",null,{\"className\":\"tw-flex tw-self-center tw-text-1xl \"}],[\"$\",\"div\",null,{\"className\":\"tw-mr-1\"}]]}]}],[\"$\",\"aside\",null,{\"children\":[\"$\",\"$La\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"sidebar_sidebar__Wqt36\",\"children\":[[\"$\",\"div\",null,{\"children\":[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-log/\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":\"Home Page\"}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",\"/blog\",{\"children\":[[\"$\",\"div\",null,{\"className\":\"sidebar_category-item-0__aGKW_\",\"children\":[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-log/blog\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":\"blog(14)\"}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",\"/blog/bbb\",{}],[\"$\",\"div\",\"/blog/ccc\",{}],[\"$\",\"div\",\"/blog/ddd\",{}],[\"$\",\"div\",\"/blog/aaa\",{\"children\":[[\"$\",\"div\",null,{\"className\":\"sidebar_category-item-1__uuZOX\",\"children\":[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-log/blog/aaa\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":\"aaa(1)\"}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",\"/blog/aaa/aaa\",{}]]}]]}],[\"$\",\"div\",\"/blog/blogging\",{\"children\":[[\"$\",\"div\",null,{\"className\":\"sidebar_category-item-1__uuZOX\",\"children\":[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-log/blog/blogging\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":\"blogging(2)\"}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",\"/blog/blogging/construct\",{}],[\"$\",\"div\",\"/blog/blogging/next-js\",{\"children\":[[\"$\",\"div\",null,{\"className\":\"sidebar_category-item-2__KV327\",\"children\":[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-log/blog/blogging/next-js\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":\"next-js(1)\"}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",\"/blog/blogging/next-js/Setting\",{}]]}]]}]]}]]}],[\"$\",\"div\",\"/blog/hello-world\",{}],[\"$\",\"div\",\"/blog/study\",{\"children\":[[\"$\",\"div\",null,{\"className\":\"sidebar_category-item-1__uuZOX\",\"children\":[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-log/blog/study\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":\"study(5)\"}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",\"/blog/study/dto\",{}],[\"$\",\"div\",\"/blog/study/mvvm-disign-pattern\",{}],[\"$\",\"div\",\"/blog/study/nuget\",{}],[\"$\",\"div\",\"/blog/study/observable\",{}]]}]]}],[\"$\",\"div\",\"/blog/web\",{\"children\":[[\"$\",\"div\",null,{\"className\":\"sidebar_category-item-1__uuZOX\",\"children\":[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-log/blog/web\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":\"web(2)\"}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",\"/blog/web/next-js-global-scss-order-problem\",{}],[\"$\",\"div\",\"/blog/web/react\",{}]]}]]}]]}]]}]]}]]}]}]}],[\"$\",\"aside\",null,{\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$Lc\",null,{}]}]}],[\"$\",\"div\",null,{\"className\":\"tw-mt-nav-height tw-pb-20\",\"children\":[\"$\",\"$Ld\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[\"$\",\"main\",null,{\"children\":[\"$\",\"div\",null,{\"children\":\"404\"}]}],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$Ld\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[null,[\"$\",\"$Ld\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",[\"categories\",\"study/observable\",\"c\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lf\",[\"$\",\"main\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":\"-\"}],[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold\",\"children\":\"Observable 에 관한 메모\"}],[[\"$\",\"h2\",null,{\"children\":\"Hot Stream / Cold Stream\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[[\"$\",\"$L10\",null,{\"code\":\"$11\",\"properties\":{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"c#\",\"data-theme\":\"default\"},\"children\":\"hot stream\"}],[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#22272e\"},\"tabIndex\":\"0\",\"data-language\":\"c#\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"c#\",\"data-theme\":\"default\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"using\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"System\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Collections\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Concurrent\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"using\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"System\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Reactive\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Concurrency\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"using\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"System\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Reactive\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Disposables\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"using\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"System\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Reactive\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Linq\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"using\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"System\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Reactive\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Subjects\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"namespace\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Test\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"HotStream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e : \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IDisposable\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"ConcurrentQueue\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Queue\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"; } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"ConcurrentQueue\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IObservable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"Stream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" mStream;\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"private\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"readonly\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"AutoResetEvent\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"mDequeueEvent\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"AutoResetEvent\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"private\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"readonly\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"CancellationTokenSource\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"mCancelToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"CancellationTokenSource\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"private\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"readonly\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IConnectableObservable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"mStream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"HotStream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IScheduler\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"? \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"scheduler\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"null\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"var\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"baseStream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" Observable.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Create\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"o\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"while\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" (mCancelToken.IsCancellationRequested \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"==\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                mDequeueEvent.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"WaitOne\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"while\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" (Queue.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"TryDequeue\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"out\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"? \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"result\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"\u0026\u0026\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"!\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"mCancelToken.IsCancellationRequested)\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                    o.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"OnNext\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(result);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            o.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"OnCompleted\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" Disposable.Empty;\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        });\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"if\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" (scheduler \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"==\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"null\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\") scheduler \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"EventLoopScheduler\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        mStream \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" baseStream.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"SubscribeOn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(scheduler).\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Publish\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        mStream.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Connect\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"void\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"OnNext\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        mDequeueEvent.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Set\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"bool\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"bDisposed\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"void\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Dispose\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"if\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" (bDisposed \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"==\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            bDisposed \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"true\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            mCancelToken.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Cancel\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            mDequeueEvent.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Set\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            Queue.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Clear\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"}\"}]}]]}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"위는 \",[\"$\",\"code\",null,{\"children\":\"Publish()\"}],\", \",[\"$\",\"code\",null,{\"children\":\"Connect()\"}],\" 를 이용해 구현한 간단한 Hot Stream 이다. \",[\"$\",\"code\",null,{\"children\":\"Publish()\"}],\" 는 내부적으로 \",[\"$\",\"code\",null,{\"children\":\"Subject\u003cT\u003e\"}],\" 를 사용했고 사실 \",[\"$\",\"code\",null,{\"children\":\"Subject\u003cT\u003e\"}],\" 가 Hot Stream 이기도 하다. 그래서 \",[\"$\",\"code\",null,{\"children\":\"Subject\u003cT\u003e\"}],\" 만 써도 된다. 하지만 \",[\"$\",\"code\",null,{\"children\":\"Publish()\"}],\" 특징을 보이기 위해서 위 코드를 들고왔다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Hot Stream 은 구독 전에 호출한 \",[\"$\",\"code\",null,{\"children\":\"OnNext()\"}],\" 를 무시하며 바로바로 보내는 것이 특징이다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"그래서 다음과 같은 결과를 보인다.\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[[\"$\",\"$L10\",null,{\"code\":\"var stream = new HotStream\u003cstring\u003e();\\nstream.Queue.Enqueue(\\\"1\\\");\\nstream.OnNext();\\nThread.Sleep(1000); // thread 변환까지의 딜레이를 고려\\nstream.Stream.Subscribe(s=\u003eConsole.WriteLine($\\\"1 =\u003e {s}\\\"));\\nstream.Stream.Subscribe(s=\u003eConsole.WriteLine($\\\"2 =\u003e {s}\\\"));\\nfor (int i = 2; i \u003c 5; i++)\\n    stream.Queue.Enqueue(i.ToString());\\nstream.OnNext();\\n\",\"properties\":{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"c#\",\"data-theme\":\"default\"},\"children\":\"input\"}],[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#22272e\"},\"tabIndex\":\"0\",\"data-language\":\"c#\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"c#\",\"data-theme\":\"default\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"var\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"stream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"HotStream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"stream.Queue.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Enqueue\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#96D0FF\"},\"children\":\"\\\"1\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"stream.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"OnNext\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"Thread.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Sleep\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"1000\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"); \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#768390\"},\"children\":\"// thread 변환까지의 딜레이를 고려\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"stream.Stream.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Subscribe\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"s\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"Console.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"WriteLine\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#96D0FF\"},\"children\":\"$$\\\"1 =\u003e {\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"s\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#96D0FF\"},\"children\":\"}\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"stream.Stream.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Subscribe\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"s\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"Console.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"WriteLine\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#96D0FF\"},\"children\":\"$$\\\"2 =\u003e {\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"s\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#96D0FF\"},\"children\":\"}\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"for\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"i\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"2\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"; i \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"5\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"; i\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"++\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    stream.Queue.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Enqueue\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(i.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"ToString\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"());\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"stream.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"OnNext\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}]]}]}]]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[[\"$\",\"$L10\",null,{\"code\":\"1 =\u003e 2\\n2 =\u003e 2\\n1 =\u003e 3\\n2 =\u003e 3\\n1 =\u003e 4\\n2 =\u003e 4\\n\",\"properties\":{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"plaintext\",\"data-theme\":\"default\"},\"children\":\"output\"}],[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#22272e\"},\"tabIndex\":\"0\",\"data-language\":\"plaintext\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"1 =\u003e 2\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"2 =\u003e 2\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"1 =\u003e 3\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"2 =\u003e 3\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"1 =\u003e 4\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"2 =\u003e 4\"}]}]]}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"만약 \",[\"$\",\"code\",null,{\"children\":\"Publish()\"}],\" 를 사용하지 않았다면 어떨까?\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[[\"$\",\"$L10\",null,{\"code\":\"1 =\u003e 1\\n1 =\u003e 2\\n1 =\u003e 3\\n1 =\u003e 4\\n\",\"properties\":{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"plaintext\",\"data-theme\":\"default\"},\"children\":\"output\"}],[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#22272e\"},\"tabIndex\":\"0\",\"data-language\":\"plaintext\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"default\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"1 =\u003e 1\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"1 =\u003e 2\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"1 =\u003e 3\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#adbac7\"},\"children\":\"1 =\u003e 4\"}]}]]}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"위는 Cold Stream 의 두가지 특징을 가지고 있다.\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Subscribe()\"}],\" 하기 전의 값이 살아있다. 이는 \",[\"$\",\"code\",null,{\"children\":\"Subscribe()\"}],\" 시점에 Observable Sequence 가 값을 넣기 시작하기 때문이다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"1번 구독자만 살아있다가 끝난다. 왜냐하면 위 구현에서는 \",[\"$\",\"code\",null,{\"children\":\"Observable\"}],\" 내부의 루프가 끝나지 않아서 다음 \",[\"$\",\"code\",null,{\"children\":\"Observer\"}],\" 에게 순서가 가지 않기 때문이다. 만약 가더라도 queue 내부는 비워서 아무일도 안할 것이다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이러한 특징 때문에 요구사항에 맞는 stream 을 쓰는게 중요하다. ui 등 가장 최신 값이 필요하면 Hot Stream 을 사용한다던지 말이다.\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Hot Stream 다른 구현 버전\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[[\"$\",\"$L10\",null,{\"code\":\"$12\",\"properties\":{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"c#\",\"data-theme\":\"default\"},\"children\":\"hot stream\"}],[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#22272e\"},\"tabIndex\":\"0\",\"data-language\":\"c#\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"c#\",\"data-theme\":\"default\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"HotStream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" : \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IDisposable\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IObservable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"?\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Stream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e() \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"where\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" : \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" mSource.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Where\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"v\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" v \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"is\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"!\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Cast\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"T\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"?\u003e();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"private\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"readonly\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IDisposable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"mSourceToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"private\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"readonly\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IConnectableObservable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"object\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"?\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"mSource\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"private\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"readonly\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"CancellationTokenSource\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"mCancelToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"private\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"readonly\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"BlockingCollection\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"object\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"?\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"mQueue\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"MixStream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IScheduler\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"? \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"scheduler\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"null\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        scheduler \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"??=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"EventLoopScheduler\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".mCancelToken \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"CancellationTokenSource\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"var\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"baseStream\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" Observable.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Create\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"object\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"observer\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"while\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".mCancelToken.IsCancellationRequested \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"==\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"while\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".mQueue.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"TryTake\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"out\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"object\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"? \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"result\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"\u0026\u0026\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"!\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".mCancelToken.IsCancellationRequested)\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                    observer.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"OnNext\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(result);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            observer.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"OnCompleted\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" Disposable.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Create\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(() \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"                Console.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"WriteLine\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#96D0FF\"},\"children\":\"\\\"Stream End\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            });\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        });\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        mSource \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" baseStream.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"SubscribeOn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(scheduler).\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Publish\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        mSourceToken \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".mSource.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Connect\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"void\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"OnNext\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"object\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"? \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"message\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\".mQueue.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"TryAdd\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(message);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"void\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Dispose\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        mSourceToken.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Dispose\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        mCancelToken.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Dispose\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    }    \"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"}\"}]}]]}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"BlockingCollection\u003c\u003e\"}],\" 을 사용한 버전이다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"SubscribeOn vs ObserveOn\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[[\"$\",\"$L10\",null,{\"code\":\"    IObservable\u003cint\u003e observable = Observable.Create\u003cint\u003e(r =\u003e\\n        {\\n            // SubscribeOn() 에서 스케듈러가 적용되는 부분\\n            r.OnNext(1);\\n            return Disposable.Empty;\\n        })\\n        .ObserveOn(new EventLoopScheduler())\\n        .SubscribeOn(new EventLoopScheduler());\\n    observable.Subscribe(_ =\u003e\\n    {\\n        // ObserveOn() 에서 스케듈러가 적용되는 부분\\n    });\\n\",\"properties\":{\"data-rehype-pretty-code-title\":\"\",\"data-language\":\"c#\",\"data-theme\":\"default\",\"data-code\":\"    IObservable\u003cint\u003e observable = Observable.Create\u003cint\u003e(r =\u003e\\n        {\\n            // SubscribeOn() 에서 스케듈러가 적용되는 부분\\n            r.OnNext(1);\\n            return Disposable.Empty;\\n        })\\n        .ObserveOn(new EventLoopScheduler())\\n        .SubscribeOn(new EventLoopScheduler());\\n    observable.Subscribe(_ =\u003e\\n    {\\n        // ObserveOn() 에서 스케듈러가 적용되는 부분\\n    });\\n\"},\"children\":\"c#\"}],[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#22272e\"},\"tabIndex\":\"0\",\"data-language\":\"c#\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"c#\",\"data-theme\":\"default\",\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"IObservable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"observable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" Observable.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Create\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"\u003e(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"r\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#768390\"},\"children\":\"            // SubscribeOn() 에서 스케듈러가 적용되는 부분\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            r.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"OnNext\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6CB6FF\"},\"children\":\"1\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"            \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" Disposable.Empty;\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        })\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        .\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"ObserveOn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"EventLoopScheduler\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"())\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"        .\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"SubscribeOn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"EventLoopScheduler\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"());\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    observable.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#DCBDFB\"},\"children\":\"Subscribe\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F69D50\"},\"children\":\"_\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F47067\"},\"children\":\"=\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#768390\"},\"children\":\"        // ObserveOn() 에서 스케듈러가 적용되는 부분\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADBAC7\"},\"children\":\"    });\"}]}]]}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"ObserveOn()\"}],\" 은 Subscriber 가 등록한 Callback 이 호출될 Scheduler 를 정한다. 기본은 \",[\"$\",\"code\",null,{\"children\":\"OnNext()\"}],\" 가 호출되는 CallStack 에서 Callback 이 호출됨을 염두에 두자.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"SubscribeOn()\"}],\" 은 Cold Stream 에 \",[\"$\",\"code\",null,{\"children\":\"Subscribe()\"}],\" 를 할 때 Sequence 가 만들어지는 스케듈러를 바꾼다. 그래서 만약 \",[\"$\",\"code\",null,{\"children\":\"Publish()\"}],\"/\",[\"$\",\"code\",null,{\"children\":\"Connect()\"}],\" 를 쓰면 적용되지 않는다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"참고자료\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-loghttps://learn.microsoft.com/en-us/previous-versions/dotnet/reactive-extensions/hh211887(v=vs.103)\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":\"msdn IConnectableObservable\u003cT\u003e Interface\"}]}]]]}],null],\"segment\":\"__PAGE__?{\\\"categories\\\":[\\\"study\\\",\\\"observable\\\"]}\"},\"styles\":[]}],null],\"segment\":[\"categories\",\"study/observable\",\"c\"]},\"styles\":[]}],\"segment\":\"blog\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"tw-w-full tw-absolute tw-bottom-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"tw-backdrop-brightness-95\",\"children\":[\"$\",\"div\",null,{\"className\":\"tw-flex tw-p-4 tw-mr-4 tw-ml-4 tw-text-xs    dark:tw-border-t-color-border dark:tw-border-t-2\",\"children\":[[\"$\",\"div\",null,{\"className\":\"tw-flex-col\",\"children\":[[\"$\",\"div\",null,{\"className\":\"tw-mb-3\",\"children\":[\"$\",\"a\",null,{\"className\":\"tw-flex tw-self-center\",\"href\":\"/study-loghttps://github.com/Mona04\",\"rel\":\"$undefined\",\"target\":\"_self\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 1024 1024\",\"className\":\"tw-text-sm tw-self-center\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"div\",null,{\"className\":\"tw-ml-1 tw-font-bold\",\"children\":\"GITHUB\"}]]}]}],[\"$\",\"div\",null,{\"className\":\" \",\"children\":[\"© 2023 Mona04. Powered by \",[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-loghttps://nextjs.org/\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"NextJS\"}],\" \u0026 \",[\"$\",\"a\",null,{\"className\":\"$undefined\",\"href\":\"/study-loghttps://contentlayer.dev/\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\",\"children\":\"ContentLayer\"}],\".\"]}]]}],[\"$\",\"div\",null,{\"className\":\"tw-flex tw-self-end tw-ml-auto phone:tw-absolute phone:tw-collapse\",\"children\":[[\"$\",\"div\",null,{\"children\":\"Last Build:\"}],[\"$\",\"div\",null,{\"className\":\"tw-ml-1\",\"children\":\"13:58\"}],[\"$\",\"div\",null,{\"className\":\"tw-ml-1\",\"children\":\"2023/10/5\"}]]}]]}]}]}]]}]}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"4:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Observable 에 관한 메모\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"...\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nf:null\n"])</script></body></html>